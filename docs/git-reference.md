# Git 運用リファレンス（リポジトリ共通ルール）

このファイルは本リポジトリにおける Git/PR 運用ルールの“唯一の参照先”です。エージェントや開発者はこのファイルを参照してください。

## 基本方針
- ブランチ戦略: GitHub Flow を採用。main は常にデプロイ可能な状態に保つ。
- ブランチ命名: `feature/<短い説明>`、`fix/<短い説明>`、`chore/<短い説明>`、`hotfix/<短い説明>` など。
- コミット: Conventional Commits を推奨（例: `feat(auth): add login`）。

## Pull Request（PR）ルール
- PR は main へマージする前に PR を作成すること。
- PR の承認者は「コミッター本人以外」の開発者が最低 1 人以上必要。複数の承認者が必要な場合は PR 本文で明記する。
- CI の導入は任意（現時点で強制されていません）が、CI が存在する場合は全チェックが成功していることが推奨される。
- PR 本文には「何を」「なぜ」「影響範囲」「テスト手順」を記載すること。
- マージ: チーム方針に応じて Squash または Merge commit を利用する。規約としては小さな変更は Squash を推奨。
- マージ後は作業ブランチを削除する（GitHub の自動削除を有効推奨）。

## コミットメッセージ
- 形式: `type(scope?): subject`（Conventional Commits）
- type 例: feat, fix, chore, docs, test, ci, perf, refactor, style

## 例外と緊急対応
- 緊急のホットフィックスは `hotfix/*` ブランチを作成し、速やかにレビューとテストを行い main にマージする。
- 履歴の書き換え（force push / rebase）は原則禁止。必要な場合は事前にチームで合意を得ること。

## エージェント向け利用法
- エージェント（Copilot / Claude）はこのファイルを参照してルールを判断し、PR のチェックやレビュー支援時にここに記載された基準を適用してください。
- ルールに疑義がある場合は PR 内で注記し、担当チームメンバーに確認すること。

---

このファイルの更新は Pull Request を通して行い、変更の意図と影響範囲を明確に記載してください。